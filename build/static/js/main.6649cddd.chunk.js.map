{"version":3,"sources":["_Extension.css.js","_vars.css.js","Extension.js","index.js"],"names":["styles","App","state","pnrs","getLocalPNRS","a","that","chrome","storage","local","get","pnrsObj","console","log","setState","isDuplicate","pnr","forEach","eachPnr","grabPNR","runtime","sendMessage","message","response","this","newPnrs","saveToChromeStorage","bind","firstName","Math","random","lastName","fillManualCC","applyPNR","index","ctmLogin","close","key","value","set","deletePnr","push","exportPNRs","pnrsAsCSV","map","csvContent","e","join","encodedUri","encodeURI","window","open","fetch","then","res","json","resJson","catch","err","id","className","style","display","marginBottom","onClick","slice","toUpperCase","React","Component","injectWrapper","document","body","app","createElement","prepend","ReactDOM","render","Extension","getElementById"],"mappings":"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","file":"static/js/main.6649cddd.chunk.js","sourcesContent":["import { font, colors } from './_vars.css';\n\nexport const styles = `\n    *, *:before, *:after {\n        box-sizing: border-box;\n    }\n    .container{\n        overflow-y: scroll;\n        overflow-x: scroll;\n        height: 200px;\n        padding: 20px;\n    }\n    .cell {\n        color: #e5e6e6;\n        padding: 7px;\n        font-size: 17px;\n        border: 1px solid #e5e6e6;\n        min-width: 120px;\n        min-width: 120px;\n    }\n\n    .cell:hover {\n        background: #e7e6e6;\n        color: #303846;\n        cursor: pointer;\n    }\n\n    .apply{\n        color: #e5e6e6;\n        padding: 7px;\n        font-size: 17px;\n        border: 1px solid #e5e6e6;\n        min-width: 10px;\n    }\n    .delete{\n        color: #e5e6e6;\n        padding: 7px;\n        font-size: 17px;\n        border: 1px solid #e5e6e6;\n        max-width: 150px;\n    }\n    .pnr {\n        font-weight: bold;\n    }\n    .table{\n        display: flex;\n        align-items: center;\n    }\n    .btn{\n\n    }\n    .btn:hover{\n        cursor: pointer;\n        background: #e7e6e6;\n        color: #303846;\n    }\n    #ext--dialogue {\n        position: fixed;\n        right: 0;\n        top: 0;\n        background: #303846;\n        color: $black; \n        font-family: ${font};\n        font-size: 14px;\n        text-align: center;\n        width: 55vh;\n        min-height: 25vh;\n        max-height: 100vh;\n        cursor: auto;\n        user-select: none;  \n        box-shadow: -8px 8px 16px 3px rgba(0,0,0,0.15);\n        transition: all 260ms ease-in-out;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        animation: fadeIn;\n        animation-duration: 260ms;\n        animation-timing-function: ease-in-out;\n        animation-fill-mode: forwards;\n        animation-iteration-count: 1;\n    }\n    h1, h2, h3, h4, h5, h6, p {\n        color:  ${colors.black};\n        font-size: 16px;\n        font-weight: normal;\n    }\n    button {\n        border: none;\n        line-height: 34px;\n        background: white;\n        padding: 0 17px;\n        border-radius: 4px;\n        color: #303846;\n        outline: none;\n    }\n    @keyframes fadeIn {\n        from {\n            transform: scale(0.5);\n            opacity: 0;\n        }\n        to {\n            transform: scale(1);\n            opacity: 1;\n        }\n    }\n`;","export const font = 'sans-serif';\nexport const colors = { \n    black : '#2b2929', \n    red : 'crimson',\n    white : '#fff',\n    blue : '#0090ff'\n    };","/* global chrome */\nimport React, { useState } from 'react';\n// you don't have to do your CSS like this, but one of the benefits of Shadow Dom\n// is encapsulating your styles from the target webpage (prevent collusion, etc)\nimport { styles } from './_Extension.css';\n\nfunction getInitialState() {\n    if (process.env.NODE_ENV === \"development\") {\n        return [{\n            firstName: \"Vijaya\",\n            lastName: \"Awesome\",\n            pnr: \"VXBZOA\"\n        },\n        {\n            firstName: \"Tesla\",\n            lastName: \"Awesome\",\n            pnr: \"VXBZOB\"\n        },\n        {\n            firstName: \"bad\",\n            lastName: \"Guy\",\n            pnr: \"VXBZOC\"\n        },\n        {\n            firstName: \"Vijaya\",\n            lastName: \"Awesome\",\n            pnr: \"VXBZOD\"\n        },\n        {\n            firstName: \"Tesla\",\n            lastName: \"Awesome\",\n            pnr: \"VXBZOE\"\n        },\n        {\n            firstName: \"bad\",\n            lastName: \"Guy\",\n            pnr: \"VXBZOF\"\n        },\n        {\n            firstName: \"Vijaya\",\n            lastName: \"Awesome\",\n            pnr: \"VXBZOX\"\n        },\n        {\n            firstName: \"Tesla\",\n            lastName: \"Awesome\",\n            pnr: \"VXBZOG\"\n        },\n        {\n            firstName: \"bad\",\n            lastName: \"Guy\",\n            pnr: \"VXBZOH\"\n        },\n        {\n            firstName: \"Vijaya\",\n            lastName: \"Awesome\",\n            pnr: \"VXBZOI\"\n        },\n        {\n            firstName: \"Tesla\",\n            lastName: \"Awesome\",\n            pnr: \"VXBZOJ\"\n        },\n        {\n            firstName: \"bad\",\n            lastName: \"Guy\",\n            pnr: \"VXBZOK\"\n        }]\n    }\n\n    return []\n}\nclass App extends React.Component {\n    state = {\n        pnrs: getInitialState()\n    }\n\n    // handleMessage = async () => {\n    //     // everything is \"in view\"  \n    //     chrome.runtime.sendMessage({message: \"click\"}, function(response) {\n    //         console.log('response: ', response);\n    //         this.setState({\n    //             pnrs: [...this.state.pnr,response.message]\n    //         })\n    //         // setMessage(response.message)\n    //     });\n    // }\n\n    componentDidMount() {\n        this.getLocalPNRS()\n        fetch(\"https://api.myjson.com/bins/17rcxy\")\n            .then(res => res.json())\n            .then(resJson => {\n                console.log(\"resJson\", resJson)\n            })\n            .catch(err => {\n                console.log(\"Error\", err)\n            })\n    }\n\n    getLocalPNRS = async () => {\n        const that = this\n        if (chrome && chrome.storage) {\n            chrome.storage.local.get(\"pnrs\", function (pnrsObj) {\n                console.log('Retrived successfully: ', pnrsObj.pnrs);\n                that.setState({\n                    pnrs: pnrsObj.pnrs || []\n                })\n            })\n        }\n    }\n\n    isDuplicate = (pnr) => {\n        const { pnrs } = this.state\n        let isDuplicate = false\n        pnrs.forEach(eachPnr => {\n            if (eachPnr.pnr === pnr) {\n                isDuplicate = true\n            }\n        })\n\n        return isDuplicate\n    }\n\n    grabPNR = async () => {\n        if (chrome && chrome.storage) {\n            chrome.runtime.sendMessage({ message: \"GET_PNR\" }, function (response) {\n                if (response.message && response.message.pnr && !this.isDuplicate(response.message.pnr)) {\n                    const newPnrs = [response.message, ...this.state.pnrs]\n                    this.saveToChromeStorage('pnrs', newPnrs)\n                    this.setState({\n                        pnrs: newPnrs\n                    })\n                }\n            }.bind(this));\n        } else {\n            var pnr = \"PNRPNR\" //+ Math.random()\n            if (!this.isDuplicate(pnr)) {\n                var firstName = \"First Name\" + Math.random()\n                var lastName = \"Last Name\" + Math.random()\n                var pnr = \"PNRPNR\" //+ Math.random()\n                this.setState({\n                    pnrs: [{ firstName, lastName, pnr }, ...this.state.pnrs]\n                })\n            }\n        }\n    }\n\n    fillManualCC = async () => {\n        if (chrome && chrome.storage) {\n            chrome.runtime.sendMessage({ message: \"MANUAL_CC\" }, function (response) {\n                // if(response.message && response.message.pnr){\n                //     const newPnrs = [response.message,...this.state.pnrs]\n                //     this.saveToChromeStorage('pnrs',newPnrs)\n                //     this.setState({\n                //         pnrs: newPnrs\n                //     })\n                // }\n            }.bind(this));\n        } else {\n            // var firstName = \"First Name\" + Math.random()\n            // var lastName = \"Last Name\" + Math.random()\n            // var pnr = \"PNR\" + Math.random()\n            // this.setState({\n            //     pnrs: [{ firstName, lastName, pnr },...this.state.pnrs]\n            // })\n        }\n    }\n\n    // applyPNR = async (id) => {\n    //     // everything is \"in view\"  \n    //     chrome.runtime.sendMessage({message: \"GET_PNR\"}, function(response) {\n    //         console.log('response: ', response);\n    //         this.setState({\n    //             pnrs: [...this.state.pnrs,response.message]\n    //         },()=>{\n    //             chrome.storage.local.set({\"pnrs\": this.state.pnrs}, function(){\n    //                console.log(\"Saved Data Successfully\")\n    //             });\n    //             localStorage.setItem(\"Settingthe PNR here\",JSON.stringify(this.state.pnrs))\n    //         })\n    //     }.bind(this));\n    // }\n\n    applyPNR = async (index) => {\n        console.log('Applying PNR', this.state.pnrs[index]);\n        chrome.runtime.sendMessage({ message: \"APPLY_PNR\", pnr: this.state.pnrs[index] }, function (response) {\n            // console.log('response: ', response);\n            // this.setState({\n            //     pnrs: [...this.state.pnrs,response.message]\n            // },()=>{\n            //     chrome.storage.local.set({\"pnrs\": this.state.pnrs}, function(){\n            //        console.log(\"Saved Data Successfully\")\n            //     });\n            //     localStorage.setItem(\"Settingthe PNR here\",JSON.stringify(this.state.pnrs))\n            // })\n        }.bind(this));\n    }\n\n    ctmLogin = async () => {\n        chrome.runtime.sendMessage({ message: \"CTM_LOGIN\" }, function (response) {\n            console.log(\"CTM LOGIN\",response)\n        }.bind(this));\n    }\n\n    close = async () => {\n        chrome.runtime.sendMessage({ message: \"CLOSE\" }, function (response) {\n        }.bind(this));\n    }\n\n    saveToChromeStorage = async (key, value) => {\n        if (chrome && chrome.storage) {\n            chrome.storage.local.set({ [key]: value }, function () {\n                console.log(\"Saved Data Successfully\")\n            });\n        }\n    }\n\n    deletePnr = async (pnr) => {\n        const pnrs = this.state.pnrs\n        let newPnrs = []\n        pnrs.forEach(eachPnr => {\n            if (eachPnr.pnr !== pnr) {\n                newPnrs.push(eachPnr)\n            }\n        })\n        this.saveToChromeStorage('pnrs', newPnrs)\n        this.setState({\n            pnrs: newPnrs\n        })\n    }\n\n    exportPNRs = () => {\n        const {pnrs} = this.state\n        const pnrsAsCSV = [[\"First Name\", \"Last Name\", \"PNR\"]]\n        pnrs.map(eachPnr=>{\n            pnrsAsCSV.push([eachPnr.firstName,eachPnr.lastName,eachPnr.pnr])\n        })\n\n        let csvContent = \"data:text/csv;charset=utf-8,\"\n            + pnrsAsCSV.map(e => e.join(\",\")).join(\"\\n\");\n\n        var encodedUri = encodeURI(csvContent);\n        window.open(encodedUri);\n\n    }\n\n    render() {\n        return (\n            <>\n                <style>{styles}</style>\n                <div id=\"ext--dialogue\">\n                    <div className=\"container\">\n                        {/* <h1>Extension Shell</h1> */}\n                        {/* { message && <p>Random { message }</p>} */}\n                        {/* <button onClick={handleMessage}>Change BackGround Color</button> */}\n                        <div style={{ display: 'flex' }}>\n                            <div style={{ marginBottom: '20px' }} ><span className='cell btn' onClick={() => this.grabPNR()}>Scrap PNR</span></div>\n                            <div style={{ marginBottom: '20px' }} ><span className='cell btn' onClick={() => this.ctmLogin()}>99582114</span></div>\n                            <div style={{ marginBottom: '20px' }} ><span className='cell btn' onClick={() => this.fillManualCC()}>MCC</span></div>\n                            <div style={{ marginBottom: '20px' }} ><span className='cell btn' onClick={() => this.exportPNRs()}>Export</span></div>\n                            <div style={{ marginBottom: '20px' }} ><span className='cell btn' onClick={() => this.close()}>Close</span></div>\n                        </div>\n                        {\n                            this.state.pnrs.map((eachPnr, index) => {\n                                const { firstName = \"\", lastName = \"\", pnr = \"\" } = eachPnr\n                                return (\n                                    <div className='table'>\n                                        <span className='table' onClick={() => this.applyPNR(index)}>\n                                            {/* <span className='btn apply' onClick={() => this.applyPNR(index)}>Apply ▶</span> */}\n                                            <span className='cell'>{firstName.slice(0, 10)}</span>\n                                            <span className='cell'>{lastName.slice(0, 10)}</span>\n                                            <span className='cell pnr'>{pnr.toUpperCase().slice(0, 10)}</span>\n                                        </span>\n                                        <span className='btn delete' onClick={() => this.deletePnr(pnr)}>X</span>\n                                    </div>\n                                )\n                            })\n                        }\n                    </div>\n                </div>\n            </>\n        )\n    }\n\n}\n\n// function App() {\n//     const [ message, setMessage ] = useState(false);\n\n//     let handleMessage = async () => {\n//         // everything is \"in view\"  \n//         chrome.runtime.sendMessage({message: \"click\"}, function(response) {\n//             console.log('response: ', response);\n//             setMessage(response.message)\n//         });\n//     }\n\n//     let grabPNR = async () => {\n//         // everything is \"in view\"  \n//         chrome.runtime.sendMessage({message: \"GET_PNR\"}, function(response) {\n//             console.log('GOT PNR: ', response);\n//             // setMessage(response.message)\n//         });\n//     }\n\n\n\n\n//     return (\n//         <>\n//             <style>{styles}</style>\n//             <div id=\"ext--dialogue\">\n//                 <div>\n//                     <h1>Extension Shell</h1>\n//                     { message && <p>Random { message }</p>}\n//                     <button onClick={handleMessage}>Change BackGround Color</button>\n//                     <button onClick={grabPNR}>GET PNR</button>\n//                 </div>\n//             </div>  \n//         </>\n//     )\n// }\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactShadowRoot from 'react-shadow-root';\nimport Extension from './Extension';\nimport './global.scss';\nconst injectWrapper = document.body;\nconst app = document.createElement('div');\napp.id = 'jk--chrome--extension';\nif (injectWrapper) injectWrapper.prepend(app);\n\n// without #shadow-dom\n// ReactDOM.render(<Extension />, document.getElementById('jk--chrome--extension'));\n// with #shadow-dom\nReactDOM.render(<ReactShadowRoot><Extension /></ReactShadowRoot>, document.getElementById('jk--chrome--extension'));"],"sourceRoot":""}