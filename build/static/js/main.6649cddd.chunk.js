(this["webpackJsonpChrome-Extension-with-React"]=this["webpackJsonpChrome-Extension-with-React"]||[]).push([[0],{14:function(e,n,t){e.exports=t(25)},24:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(4),c=t.n(o),s=t(7),i=t.n(s),l=t(8),p=t(5),m=t(1),u=t.n(m),f=t(3),d=t(9),h=t(10),g=t(12),b=t(11),x=t(2),v=t(13),N="\n    *, *:before, *:after {\n        box-sizing: border-box;\n    }\n    .container{\n        overflow-y: scroll;\n        overflow-x: scroll;\n        height: 200px;\n        padding: 20px;\n    }\n    .cell {\n        color: #e5e6e6;\n        padding: 7px;\n        font-size: 17px;\n        border: 1px solid #e5e6e6;\n        min-width: 120px;\n        min-width: 120px;\n    }\n\n    .cell:hover {\n        background: #e7e6e6;\n        color: #303846;\n        cursor: pointer;\n    }\n\n    .apply{\n        color: #e5e6e6;\n        padding: 7px;\n        font-size: 17px;\n        border: 1px solid #e5e6e6;\n        min-width: 10px;\n    }\n    .delete{\n        color: #e5e6e6;\n        padding: 7px;\n        font-size: 17px;\n        border: 1px solid #e5e6e6;\n        max-width: 150px;\n    }\n    .pnr {\n        font-weight: bold;\n    }\n    .table{\n        display: flex;\n        align-items: center;\n    }\n    .btn{\n\n    }\n    .btn:hover{\n        cursor: pointer;\n        background: #e7e6e6;\n        color: #303846;\n    }\n    #ext--dialogue {\n        position: fixed;\n        right: 0;\n        top: 0;\n        background: #303846;\n        color: $black; \n        font-family: ".concat("sans-serif",";\n        font-size: 14px;\n        text-align: center;\n        width: 55vh;\n        min-height: 25vh;\n        max-height: 100vh;\n        cursor: auto;\n        user-select: none;  \n        box-shadow: -8px 8px 16px 3px rgba(0,0,0,0.15);\n        transition: all 260ms ease-in-out;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        animation: fadeIn;\n        animation-duration: 260ms;\n        animation-timing-function: ease-in-out;\n        animation-fill-mode: forwards;\n        animation-iteration-count: 1;\n    }\n    h1, h2, h3, h4, h5, h6, p {\n        color:  ").concat("#2b2929",";\n        font-size: 16px;\n        font-weight: normal;\n    }\n    button {\n        border: none;\n        line-height: 34px;\n        background: white;\n        padding: 0 17px;\n        border-radius: 4px;\n        color: #303846;\n        outline: none;\n    }\n    @keyframes fadeIn {\n        from {\n            transform: scale(0.5);\n            opacity: 0;\n        }\n        to {\n            transform: scale(1);\n            opacity: 1;\n        }\n    }\n");var w=function(e){function n(){var e,t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(b.a)(n)).call.apply(e,[this].concat(r)))).state={pnrs:[]},t.getLocalPNRS=Object(f.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(x.a)(t),chrome&&chrome.storage&&chrome.storage.local.get("pnrs",(function(e){console.log("Retrived successfully: ",e.pnrs),n.setState({pnrs:e.pnrs||[]})}));case 2:case"end":return e.stop()}}),e)}))),t.isDuplicate=function(e){var n=t.state.pnrs,a=!1;return n.forEach((function(n){n.pnr===e&&(a=!0)})),a},t.grabPNR=Object(f.a)(u.a.mark((function e(){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:chrome&&chrome.storage?chrome.runtime.sendMessage({message:"GET_PNR"},function(e){if(e.message&&e.message.pnr&&!this.isDuplicate(e.message.pnr)){var n=[e.message].concat(Object(p.a)(this.state.pnrs));this.saveToChromeStorage("pnrs",n),this.setState({pnrs:n})}}.bind(Object(x.a)(t))):(n="PNRPNR",t.isDuplicate(n)||(a="First Name"+Math.random(),r="Last Name"+Math.random(),n="PNRPNR",t.setState({pnrs:[{firstName:a,lastName:r,pnr:n}].concat(Object(p.a)(t.state.pnrs))})));case 1:case"end":return e.stop()}}),e)}))),t.fillManualCC=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:chrome&&chrome.storage&&chrome.runtime.sendMessage({message:"MANUAL_CC"},function(e){}.bind(Object(x.a)(t)));case 1:case"end":return e.stop()}}),e)}))),t.applyPNR=function(){var e=Object(f.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Applying PNR",t.state.pnrs[n]),chrome.runtime.sendMessage({message:"APPLY_PNR",pnr:t.state.pnrs[n]},function(e){}.bind(Object(x.a)(t)));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),t.ctmLogin=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:chrome.runtime.sendMessage({message:"CTM_LOGIN"},function(e){console.log("CTM LOGIN",e)}.bind(Object(x.a)(t)));case 1:case"end":return e.stop()}}),e)}))),t.close=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:chrome.runtime.sendMessage({message:"CLOSE"},function(e){}.bind(Object(x.a)(t)));case 1:case"end":return e.stop()}}),e)}))),t.saveToChromeStorage=function(){var e=Object(f.a)(u.a.mark((function e(n,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:chrome&&chrome.storage&&chrome.storage.local.set(Object(l.a)({},n,t),(function(){console.log("Saved Data Successfully")}));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t.deletePnr=function(){var e=Object(f.a)(u.a.mark((function e(n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.state.pnrs,r=[],a.forEach((function(e){e.pnr!==n&&r.push(e)})),t.saveToChromeStorage("pnrs",r),t.setState({pnrs:r});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),t.exportPNRs=function(){var e=t.state.pnrs,n=[["First Name","Last Name","PNR"]];e.map((function(e){n.push([e.firstName,e.lastName,e.pnr])}));var a="data:text/csv;charset=utf-8,"+n.map((function(e){return e.join(",")})).join("\n"),r=encodeURI(a);window.open(r)},t}return Object(v.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getLocalPNRS(),fetch("https://api.myjson.com/bins/17rcxy").then((function(e){return e.json()})).then((function(e){console.log("resJson",e)})).catch((function(e){console.log("Error",e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("style",null,N),r.a.createElement("div",{id:"ext--dialogue"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("span",{className:"cell btn",onClick:function(){return e.grabPNR()}},"Scrap PNR")),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("span",{className:"cell btn",onClick:function(){return e.ctmLogin()}},"99582114")),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("span",{className:"cell btn",onClick:function(){return e.fillManualCC()}},"MCC")),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("span",{className:"cell btn",onClick:function(){return e.exportPNRs()}},"Export")),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("span",{className:"cell btn",onClick:function(){return e.close()}},"Close"))),this.state.pnrs.map((function(n,t){var a=n.firstName,o=void 0===a?"":a,c=n.lastName,s=void 0===c?"":c,i=n.pnr,l=void 0===i?"":i;return r.a.createElement("div",{className:"table"},r.a.createElement("span",{className:"table",onClick:function(){return e.applyPNR(t)}},r.a.createElement("span",{className:"cell"},o.slice(0,10)),r.a.createElement("span",{className:"cell"},s.slice(0,10)),r.a.createElement("span",{className:"cell pnr"},l.toUpperCase().slice(0,10))),r.a.createElement("span",{className:"btn delete",onClick:function(){return e.deletePnr(l)}},"X"))})))))}}]),n}(r.a.Component),y=(t(24),document.body),E=document.createElement("div");E.id="jk--chrome--extension",y&&y.prepend(E),c.a.render(r.a.createElement(i.a,null,r.a.createElement(w,null)),document.getElementById("jk--chrome--extension"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6649cddd.chunk.js.map